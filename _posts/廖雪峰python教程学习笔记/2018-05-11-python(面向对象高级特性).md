---
author: wanls4583
comments: true
date: 2018-05-11
layout: post
title: python(面向对象高级特性)
categories:
- 廖雪峰python教程学习笔记

tags:
- 廖雪峰python教程学习笔记
---

### __slots__

python类似js，是一门动态语言，可以动态的给类或者实例添加方法和属性，给类添加的方法和属性可以应用多所有该类的实例。

```python
class Class:
	pass

Class.name='i am class'

obj=Class()

print(obj.name) #i am class

obj.myName='i am obj'

print(obj.myName) #i am obj

def printName(self):
	print(self.name)

Class.printName=printName
#即使在类动态添加方法之前实例化，还是可以调用之后动态添加的方法
obj.printName() #i am class
```

如果想限制实例可以添加的属性，可以在定义类的时候使用`__slots__`。

```python
class Class:
	__slots__=('name','age')

obj=Class();

obj.name='lisong'

obj.age=18

print(obj.name,obj.name) #lisong 18

obj.title='title' #报错
#__slots__只能限制实例的动态添加属性和方法，类依然能够动态添加
Class.title='class title'

print(obj.title) #class title
```

### @property

@property修饰器可以把类的一个方法变成属性，这样就可以拦截取值操作了，同时这个修饰器还会创造一个以方法名称为后缀的setter修饰器，使用这个修改可以拦截取值操作。@property类似于js中的defineProperty。

```python
class Class:
	@property
	def name(self):
		print('return:'+self._name)
		return self._name
	@name.setter
	def name(self,name):
		print('set:'+name)
		self._name=name
	@property
	def age(self): 
		return 18

obj=Class();

obj.name='lisong' #set:lisong

obj.name #return:lisong

obj.age=20 #报错，没有定义setter，只能读取，不能设置

print(obj.age) #18
```

### 多重继承

python天生支持多重继承，而静态语言java只支持单继承。

在类的设计中，如果想让某一个类既有A类的功能，又有B类的功能，只需要让这个类同时继承A类和B类就行了，这种设计通常称之为Mixin。

```python
class Runnable:
	def run(self):
		print('i can run')

class Flyable:
	def fly(self):
		print('i can fly')

class SuperMan(Runnable,Flyable):
	pass

man=SuperMan()

man.run() #i can run

man.fly() #i can fly
```
