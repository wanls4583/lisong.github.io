!function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(1);i.default=s.a},function(t,i,e){"use strict";i.a=class{constructor(t){this.duration=0,this.stay=0,this.container=null,this.wrap=null,this.dotsWrap=null,this.leftArrow=null,this.rightArrow=null,this.useTransition=!1,this.usePosition=!1,this.enableTouch=!0,this.enableClick=!0,this.dotClassName="",this.activeClassName="",this.multi=!1,this.direct="right",this.loopTimer=null,this.transTimer=null,this.rAFTrackTimer=null,this.rAFPosTimer=null,this.anicomplete=!0,this.carouselCount=0,this.maxCount,this.parentWidth=0,this.wrapWidth=0,this.prefixStyle=null,this.bannerClick=!1,this.transEndTime=(new Date).getTime(),this.isWindowFocus=!0,this.init(t)}init(t){var i=this;this.container=t.container,this.wrap=t.wrap,this.dotsWrap=t.dotsWrap,this.leftArrow=t.leftArrow,this.rightArrow=t.rightArrow,this.duration=t.duration||1e3,this.stay=t.stay||3e3,this.activeClassName=t.activeClassName||"dot",this.dotClassName=t.dotClassName||"active",this.multi=t.multi,void 0!=t.enableTouch&&(this.enableTouch=t.enableTouch),void 0!=t.usePosition&&(this.usePosition=t.usePosition),void 0!=t.enableClick&&(this.enableClick=t.enableClick),this.container.style.overflow="hidden",this.wrap.style.whiteSpace="nowrap",this.wrapWidth=this.wrap.scrollWidth,this.parentWidth=this.container.clientWidth,this.maxCount=Math.ceil(this.wrapWidth/this.parentWidth)-1,this.initDefault(),this.usePosition&&(this.container.style.position="relative",this.wrap.style.position="absolute",this.wrap.style.left="0",this.wrap.style.top="0"),this.maxCount>0&&(this.createDots(this.maxCount+1),this.useTransition&&(this._addEvent(this.container,"webkitTransitionEnd",function(){i.transEnd()}),this._addEvent(this.container,"transitionend",function(){i.transEnd()}),this._addEvent(this.container,"oTransitionEnd",function(){i.transEnd()}),this._addEvent(this.container,"MSTransitionEnd",function(){i.transEnd()})),this.enableTouch&&this.bindTouchEvent(),this.enableClick&&this.bindDotClickEvent(),this.bindArrowClickEvent(),this.transEnd(),document.addEventListener("visibilitychange",function(t){t.target.hidden?i.isWindowFocus=!1:(i.isWindowFocus=!0,i.transEnd())},!1))}initDefault(){this.prefixStyle=this._getPrefixStyle(),this.usePosition||(this.prefixStyle.transitionProperty&&this.prefixStyle.transform?this.useTransition=!0:this.prefixStyle.transform||(this.usePosition=!0))}createDots(t){if(this.dotsWrap&&!this.multi){for(var i="",e=0;e<t;e++)i+=0==e?'<div class="'+this.dotClassName+" "+this.activeClassName+'"></div>':'<div class="'+this.dotClassName+'"></div>';this.dotsWrap.innerHTML=i}}activeDot(t){var i=0;if(this.dotsWrap&&!this.multi){t||0==t||(i=this.usePosition?(i=this._getComputedStyle("left"))?Number(i.replace("px","")):0:this._getComputedTranslateX(),t=Math.floor((Math.abs(i)+this.parentWidth/2)/this.parentWidth));var e=this.dotsWrap.getElementsByClassName(this.activeClassName)[0];e&&(e.className=this.dotClassName),this.dotsWrap.getElementsByClassName(this.dotClassName)[t]&&(this.dotsWrap.getElementsByClassName(this.dotClassName)[t].className=this.dotClassName+" "+this.activeClassName)}}bindDotClickEvent(){if(this.dotsWrap&&!this.multi)for(var t=this,i=this.dotsWrap.getElementsByClassName(this.dotClassName),e=i.length,s=0;s<e;s++)!function(e){t._bindClickEvent(i[e],function(i){t._stopPropagation(i),t.goToNoTrans(e)})}(s)}bindArrowClickEvent(){var t=this;function i(){if(t._clearAllTimeoutId(),t.usePosition){t.wrap.style[t.prefixStyle.transitionDuration]="0ms";var i=t._getComputedStyle("left");i=i?Number(i.replace("px","")):0,t.wrap.style.left=i+"px"}else{t.wrap.style[t.prefixStyle.transitionDuration]="0ms";var e=t._getComputedTranslateX();t.wrap.style[t.prefixStyle.transform]="translateX("+e+"px) translateZ(0)"}}this.leftArrow&&this._bindClickEvent(this.leftArrow,function(e){t._stopPropagation(e),t.carouselCount<t.maxCount&&(i(),t.toLeft())}),this.rightArrow&&this._bindClickEvent(this.rightArrow,function(e){t._stopPropagation(e),t.carouselCount>0&&(i(),t.toRight())})}bindTouchEvent(){var t=this,i=0,e=0,s=0;this._addEvent(this.container,"touchstart",function(n){t._clearAllTimeoutId(),t.bannerClick=!1,i=n.touches[0].pageX,t.usePosition?(t.wrap.style[t.prefixStyle.transitionDuration]="0ms",s=(s=t._getComputedStyle("left"))?Number(s.replace("px","")):0,wrap.style.left=s+"px"):(t.wrap.style[t.prefixStyle.transitionDuration]="0ms",e=t._getComputedTranslateX(),t.wrap.style[t.prefixStyle.transform]="translateX("+e+"px) translateZ(0)")}),this._addEvent(this.container,"touchmove",function(n){t._preventDefault(n),t._stopPropagation(n);var a=n.touches[0].pageX-i,r=e+a>0?0:e+a,o=s+a>0?0:s+a;r=r<t.parentWidth-t.wrapWidth?t.parentWidth-t.wrapWidth:r,o=o<t.parentWidth-t.wrapWidth?t.parentWidth-t.wrapWidth:o,t.usePosition?t.wrap.style.left=o+"px":t.wrap.style[t.prefixStyle.transform]="translateX("+r+"px) translateZ(0)"}),this._addEvent(this.container,"touchend",function(n){function a(e){var s=(new Date).getTime();if(Math.abs(n.changedTouches[0].pageX-i)<5)return t.bannerClick=!0,0==t.carouselCount?t.direct="left":t.carouselCount==t.maxCount&&(t.direct="right"),void(t.anicomplete?t.loopTimer=setTimeout(function(){"left"==t.direct?t.toLeft():t.toRight()},t.stay-(s-t.transEndTime)):"left"==t.direct?t.toLeft():t.toRight());if(t.anicomplete=!1,n.changedTouches[0].pageX>i){if(t.carouselCount=Math.ceil(Math.abs(e/t.parentWidth)),0==t.carouselCount)return void t.goTo(0);t.toRight()}else{if(t.carouselCount=Math.floor(Math.abs(e/t.parentWidth)),t.carouselCount==t.maxCount)return void t.goTo(t.maxCount);t.toLeft()}}t.usePosition?a(s=(s=t._getComputedStyle("left"))?Number(s.replace("px","")):0):a(e=t._getComputedTranslateX())})}goTo(t){var i=t*parentWidth;this.anicomplete=!1,this._translateX(i)}goToNoTrans(t){var i=-t*this.parentWidth;this._clearAllTimeoutId(),this.usePosition?this.wrap.style.left=i+"px":(this.wrap.style[this.prefixStyle.transitionDuration]="0ms",this.wrap.style[this.prefixStyle.transform]="translateX("+i+"px) translateZ(0)"),this.carouselCount=t,this.transEnd(),this.activeDot(t)}toLeft(){if(this.carouselCount>=this.maxCount)this.transEnd();else{var t=0;this._clearAllTimeoutId(),this.anicomplete=!1,this.carouselCount++,t=this.carouselCount==this.maxCount&&this.multi?this.wrapWidth-this.parentWidth:this.parentWidth*this.carouselCount,this._translateX(t)}}toRight(){if(this.carouselCount<=0)this.transEnd();else{var t=0,i=this.wrapWidth%this.parentWidth,e=0;i&&this.multi&&(e=this.parentWidth-i),this._clearAllTimeoutId(),this.anicomplete=!1,this.carouselCount--,(t=this.parentWidth*this.carouselCount-e)<0&&(t=0),this._translateX(t)}}transEnd(){if(this.wrap.isConnected){var t=this,i=0;this.transEndTime=(new Date).getTime(),this.activeDot(this.carouselCount),0==this.carouselCount?this.direct="left":this.carouselCount==this.maxCount&&(this.direct="right"),this._clearAllTimeoutId(),i=this.usePosition?(i=this._getComputedStyle("left"))?Number(i.replace("px","")):0:this._getComputedTranslateX(),this.preTranslateX!=Math.abs(i)?(this.usePosition?(this.wrap.style[this.prefixStyle.transitionDuration]="0ms",this.wrap.style.left=i+"px"):(this.wrap.style[this.prefixStyle.transitionDuration]="0ms",this.wrap.style[this.prefixStyle.transform]="translateX("+i+"px) translateZ(0)"),this.carouselCount==this.maxCount&&this.multi?this._translateX(this.wrapWidth-this.parentWidth):this._translateX(this.carouselCount*this.parentWidth)):(this.anicomplete=!0,this.loopTimer=setTimeout(function(){t.anicomplete&&("left"==t.direct?t.toLeft():t.toRight())},this.stay))}else this._clearAllTimeoutId()}_startTransition(){var t=this._getRAF(),i=this;t(function e(){i.rAFTrackTimer=t(function(){e(),i.activeDot()})})}_position(t,i,e){var s=this,n=this._getRAF(),a=0,r=0,o=0;(new Date).getTime(),a=(a=s._getComputedStyle("left"))?Number(a.replace("px","")):0,r=1e3/60/e*(i-a),n(function e(){s.rAFPosTimer=n(function(){(o=(o=s.wrap.style.left)?Number(o.replace("px","")):0)>0&&(o=0),Math.abs(i-o)>Math.abs(r)?(o+=r,t.style.left=o+"px",e(),s.activeDot()):(t.style.left=i+"px",s.transEnd())})})}_translateX(t){var i=this;if(this.useTransition){var e=this.duration*(Math.ceil(Math.abs(-t-this._getComputedTranslateX()))/this.parentWidth);e=e>this.duration?this.duration:e,this.wrap.style[this.prefixStyle.transitionDuration]=e+"ms",this.wrap.style[this.prefixStyle.transform]="translateX(-"+t+"px) translateZ(0)",i._startTransition(),this.transTimer=setTimeout(function(){i.transEnd()},this.duration+100)}else{var s=this.wrap.style.left;s=s?Number(s.replace("px","")):0,e=(e=this.duration*(Math.ceil(Math.abs(-t-s))/this.parentWidth))>this.duration?this.duration:e,this.wrap.style[this.prefixStyle.transitionDuration]="0ms",this._position(this.wrap,-t,e)}this.preTranslateX=t}_clearAllTimeoutId(){var t=this._getCancelRAF();t(this.rAFTrackTimer),t(this.rAFPosTimer),clearTimeout(this.loopTimer),clearTimeout(this.transTimer)}_bindClickEvent(t,i){var e=this;this._addEvent(t,"touchstart",function(t){e._stopPropagation(t)}),this._addEvent(t,"touchmove",function(t){e._preventDefault(t),e._stopPropagation(t)}),this._addEvent(t,"touchend",function(t){e._stopPropagation(t)}),this._addEvent(t,"click",i)}_addEvent(t,i,e){window.attachEvent?t.attachEvent("on"+i,e):t.addEventListener(i,e,!1)}_stopPropagation(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0}_preventDefault(t){t.preventDefault?t.preventDefault():t.returnValue=!1}_getPrefixStyle(){var t=document.createElement("div").style,i=function(){for(var i=["t","webkitT","MozT","msT","OT"],e=0,s=i.length;e<s;e++)if(i[e]+"ransform"in t)return i[e].substr(0,i[e].length-1);return!1}();function e(t){return!1!==i&&(""===i?t:i+t.charAt(0).toUpperCase()+t.substr(1))}return{transform:e("transform"),transitionProperty:e("transitionProperty"),transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")}}_getComputedTranslateX(){var t=0,i=(window.getComputedStyle?window.getComputedStyle(this.wrap,null):this.wrap.currentStyle)[this.prefixStyle.transform];return"none"!=i&&(t=Number(i.replace(/matrix\(|\)/g,"").split(",")[4])),t}_getComputedStyle(t){return(window.getComputedStyle?window.getComputedStyle(this.wrap,null):this.wrap.currentStyle)[t]}_getRAF(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;return t&&i?t:function(t){window.setTimeout(t,1e3/60)}}_getCancelRAF(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;return t&&i?i:clearTimeout}}}]);
//# sourceMappingURL=carousel.min.js.map