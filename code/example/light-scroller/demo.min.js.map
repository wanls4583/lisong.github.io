{"version":3,"sources":["webpack:///webpack/bootstrap 59fb1e6bf4679302a059","webpack:///./src/example/demo.js","webpack:///./src/scroll.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","wrapper","document","querySelector","scroller","topTip","bottomTip","refresh","scroll","Scroll","enableBar","barClassName","enableFadeout","useNativeScroll","onMove","offsetY","status","REFRESH_ABLE","innerHTML","LOAD_ABLE","onRefresh","onLoad","setTimeout","div","createElement","className","appendChild","html","opt","_classCallCheck","this","startY","startTime","endTime","preY","disY","isOutTop","isOutBottom","barFadeTimeoutId","baunceTimeoutId","barOpacity","hasSlideUp","allListener","_init","self","emptyCb","bar","onStart","onBottom","onEnd","autoLoad","nomore","topTipHeight","bottomTipHeight","style","display","clientHeight","barHeight","scrollHeight","_createScrollBar","overflow","marginBottom","position","minOffsetY","maxOffsetY","_tranlate","_bindEvent","e","_start","_move","_end","window","Math","abs","scrollTop","height","_removeAllEvent","target","transitionDuration","_offsetY","undefined","currentY","time","deceleration","destOffsetY","inertia","duration","distance","speed","round","matrix","getComputedStyle","currentStyle","indexOf","Number","replace","split","clearTimeout","touches","pageY","opacity","Date","getTime","nowTime","preventDefault","stopPropagation","OUT_BOTTOM","OUT_TOP","preOffsetY","obj","_momentum","setAttribute","ele","event_name","func","attachEvent","addEventListener","length","event","detachEvent","removeEventListener","listener","_removeEvent"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAhB,GACA,IAAAS,EAAAT,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,OAAAR,OAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,GAGAzB,IAAA0B,EAAA,kCC7DA,wDAAA1B,EAAA,IAGA,IAAI2B,EAAUC,SAASC,cAAc,YACjCC,EAAWF,SAASC,cAAc,aAClCE,EAASH,SAASC,cAAc,YAChCG,EAAYJ,SAASC,cAAc,eAEvCI,IAEA,IAAIC,EAAS,IAAIC,WACbR,QAASA,EACTG,SAAUA,EACVC,OAAQA,EACRC,UAAWA,EACXI,WAAW,EACXC,aAAc,MACdC,eAAe,EACfC,iBAAiB,EACjBC,OAkCJ,SAAgBC,EAASC,GAClBA,GAAUP,UAAOQ,aAChBZ,EAAOa,UAAY,UAEnBb,EAAOa,UAAY,UAEpBF,GAAUP,UAAOU,UACnBb,EAAUY,UAAY,UAEtBZ,EAAUY,UAAY,WA1CvBE,UAAWb,EACXc,OAeJ,WACCf,EAAUY,UAAY,SACnBI,WAAW,WACV,IAAK,IAAI5C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAI6C,EAAMrB,SAASsB,cAAc,OACjCD,EAAIL,UAAY,2HAChBK,EAAIE,UAAY,OAChBvB,SAASC,cAAc,YAAYuB,YAAYH,GAEnDf,GAAUA,EAAOD,WAChB,QAtBN,SAASA,IACRF,EAAOa,UAAY,SAChBI,WAAW,WAEV,IADA,IAAIK,EAAO,GACFjD,EAAI,EAAGA,EAAI,GAAIA,IACpBiD,GAAQ,mJAEZzB,SAASC,cAAc,YAAYe,UAAYS,EAC5CnB,GAAUA,EAAOD,WAClB,kVC5BDE,aAmBF,SAAAA,EAAYmB,gGAAKC,CAAAC,KAAArB,GACbqB,KAAKC,OACLD,KAAKE,UACLF,KAAKG,QACLH,KAAKI,KAAO,EACZJ,KAAKK,KACLL,KAAKM,UAAW,EAChBN,KAAKO,aAAc,EACnBP,KAAKQ,iBAAmB,KACxBR,KAAKS,gBAAkB,KACvBT,KAAKU,WAAa,EAKlBV,KAAKW,YAAa,EAClBX,KAAKY,eACLZ,KAAKa,MAAMf,2CAGTA,GACF,IAAIgB,EAAOd,KACPe,EAAU,aAEdf,KAAK7B,QAAU2B,EAAI3B,QAEnB6B,KAAK1B,SAAWwB,EAAIxB,SACpB0B,KAAKgB,IAAM,KACXhB,KAAKnB,aAAeiB,EAAIjB,aACxBmB,KAAKlB,cAAgBgB,EAAIhB,cACzBkB,KAAKjB,gBAAkBe,EAAIf,gBAC3BiB,KAAKpB,UAAYkB,EAAIlB,UACrBoB,KAAKiB,QAAUnB,EAAImB,SAAWF,EAC9Bf,KAAKhB,OAASc,EAAId,QAAU+B,EAC5Bf,KAAKkB,SAAWpB,EAAIoB,UAAYH,EAChCf,KAAKmB,MAAQrB,EAAIqB,OAASJ,EAC1Bf,KAAKT,OAASO,EAAIP,QAAUwB,EAC5Bf,KAAKV,UAAYQ,EAAIR,WAAayB,EAClCf,KAAKoB,SAAWtB,EAAIsB,SACpBpB,KAAKzB,OAASuB,EAAIvB,OAClByB,KAAKxB,UAAYsB,EAAItB,UACrBwB,KAAKqB,QAAS,EACdrB,KAAKsB,aAAe,EACpBtB,KAAKuB,gBAAkB,EACnBvB,KAAKzB,SACLyB,KAAKzB,OAAOiD,MAAMC,QAAU,QAC5BzB,KAAKsB,aAAetB,KAAKzB,OAAOmD,cAEhC1B,KAAKxB,YACLwB,KAAKxB,UAAUgD,MAAMC,QAAU,QAC/BzB,KAAKuB,gBAAkBvB,KAAKxB,UAAUkD,cAE1C1B,KAAK2B,UAAY3B,KAAK7B,QAAQuD,cAAgB1B,KAAK7B,QAAQuD,aAAe1B,KAAK7B,QAAQyD,cACvF5B,KAAKpB,YAAcoB,KAAKgB,IAAMhB,KAAK6B,sBAAwB7B,KAAKgB,IAAIQ,MAAMC,QAAU,QAChFzB,KAAKjB,iBACLiB,KAAK7B,QAAQqD,MAAMM,SAAW,OAC9B9B,KAAK1B,SAASkD,MAAMO,aAAe,IAAM/B,KAAKsB,aAAe,OAE7DtB,KAAK2B,UAAY3B,KAAK7B,QAAQuD,cAAgB1B,KAAK7B,QAAQuD,aAAe1B,KAAK7B,QAAQyD,cACvF5B,KAAKpB,YAAcoB,KAAKgB,IAAMhB,KAAK6B,sBAAwB7B,KAAKgB,IAAIQ,MAAMC,QAAU,QACpFzB,KAAK1B,SAASkD,MAAMM,SAAW,UAC/B9B,KAAK7B,QAAQqD,MAAMM,SAAW,SAC9B9B,KAAK7B,QAAQqD,MAAMQ,SAAW,YAGlChC,KAAKiC,YAAcjC,KAAKsB,aAExBtB,KAAKkC,WAAalC,KAAK7B,QAAQuD,aAAe1B,KAAK1B,SAASoD,aAE5D1B,KAAKf,QAAUe,KAAKiC,WAEpBjC,KAAKmC,UAAUnC,KAAK1B,UACpB0B,KAAKoC,WAAWpC,KAAK7B,QAAS,aAAc,SAASkE,GACjDvB,EAAKwB,OAAOD,KAEhBrC,KAAKoC,WAAWpC,KAAK7B,QAAS,YAAa,SAASkE,GAChDvB,EAAKyB,MAAMF,KAEfrC,KAAKoC,WAAWpC,KAAK7B,QAAS,WAAY,SAASkE,GAC/CvB,EAAK0B,KAAKH,KAEdrC,KAAKoC,WAAWK,OAAQ,SAAU,SAASJ,GACvCvB,EAAKrC,YAETuB,KAAKoC,WAAWpC,KAAK7B,QAAS,SAAU,SAASkE,GAEzCvB,EAAK/B,iBACD2D,KAAKC,IAAI7B,EAAK3C,QAAQyE,UAAYF,KAAKC,IAAI7B,EAAK3C,QAAQuD,aAAeZ,EAAK3C,QAAQyD,gBAAkBd,EAAKS,kBAC3GT,EAAKI,WACDJ,EAAKM,WAAaN,EAAKO,QACvBP,EAAKvB,8CAShBS,KAAKjB,gBAaNiB,KAAKf,QAAUe,KAAKiC,YAZhBjC,KAAKf,SAAWe,KAAKiC,WACrBjC,KAAKf,QAAUe,KAAKiC,WACbjC,KAAKf,SAAWe,KAAKkC,aAC5BlC,KAAKf,QAAUe,KAAKkC,YAGxBlC,KAAKkC,WAAalC,KAAK7B,QAAQuD,aAAe1B,KAAK1B,SAASoD,aACxD1B,KAAKgB,MACLhB,KAAK2B,UAAY3B,KAAK7B,QAAQuD,cAAgB1B,KAAK7B,QAAQuD,cAAgB1B,KAAK7B,QAAQyD,aAAe5B,KAAKuB,kBAC5GvB,KAAKgB,IAAIQ,MAAMqB,OAAS7C,KAAK2B,UAAY,OAKjD3B,KAAKmC,UAhBMnC,KAgBS1B,SAAU,wCAGvBW,GACPe,KAAKf,QAAUA,oCAETA,GACDe,KAAKjB,kBAENiB,KAAKf,QAAUA,EACfe,KAAKmC,UAAUnC,KAAK1B,SAAU,wCAI5B+C,GACNrB,KAAKqB,OAASA,oCAIdrB,KAAK8C,oDAOCC,EAAQC,EAAoBC,GAClC,IAAIhE,OAAsBiE,GAAZD,EAAwBA,EAAWjD,KAAKf,QActD,GAbK+D,IACDA,EAAqB,GAErBD,EAAOvB,MAAP,mBADAwB,EACqC,YAEA,OAEzCD,EAAOvB,MAAP,gBAAkC,cAClCuB,EAAOvB,MAAP,yBAA2C,oCAC3CuB,EAAOvB,MAAP,mBAAqCwB,EAAqB,KAE1DD,EAAOvB,MAAP,UAA4B,cAAgBvC,EAAU,oBAElDe,KAAKgB,KAAO+B,GAAU/C,KAAK1B,SAAU,CACjCW,EAAU,EACVe,KAAKf,QAAUe,KAAKiC,YAAcjC,KAAKf,QAAUe,KAAKkC,WACtDjD,GAAWe,KAAKf,QAAUe,KAAKiC,YAAcjC,KAAKkC,YAAclC,KAAK7B,QAAQuD,aAAe1B,KAAK2B,WAC1F3B,KAAKf,SAAWe,KAAKkC,aAC5BjD,EAAUe,KAAK7B,QAAQuD,aAAe1B,KAAK2B,WAG/C3B,KAAKgB,IAAIQ,MAAT,gBAAoC,cACpCxB,KAAKgB,IAAIQ,MAAT,yBAA6C,oCAC7CxB,KAAKgB,IAAIQ,MAAT,mBAAuCwB,EAAqB,KAC5DhD,KAAKgB,IAAIQ,MAAT,UAA8B,cAAgBvC,EAAU,uDAWtDkE,EAAUlD,EAAQmD,EAAMC,GAC9B,IAEIC,EACAC,EACAC,EAJAC,EAAWN,EAAWlD,EACtByD,EAAQhB,KAAKC,IAAIc,GAAYL,EAyBjC,OAlBAG,EAAWG,EAAQA,GAAU,GAF7BL,EAAeA,GAA8B,QAEKI,EAAW,GAAK,EAAI,GAItED,EAAWE,EAAQL,GAFnBC,EAActD,KAAKf,QAAUsE,GAIXvD,KAAKkC,YAAclC,KAAKkC,WAAalC,KAAKiC,YACxDqB,EAActD,KAAKkC,WAEnBsB,GADAC,EAAWf,KAAKC,IAAI3C,KAAKf,QAAUqE,IACbI,GACfJ,EAActD,KAAKiC,YAC1BqB,EAActD,KAAKiC,WAEnBuB,GADAC,EAAWf,KAAKC,IAAI3C,KAAKf,QAAUqE,IACbI,GACf1D,KAAKkC,WAAalC,KAAKiC,YAAcqB,EAActD,KAAKiC,aAC/DqB,EAActD,KAAKiC,aAInBqB,YAAaZ,KAAKiB,MAAML,GACxBE,SAAUA,kCAIXnB,GAEH,IACIuB,GADQnB,OAAOoB,iBAAmBpB,OAAOoB,iBAAiB7D,KAAK1B,SAAU,MAAgB0B,KAAK1B,SAASwF,cAC9F,UACTF,EAAOG,QAAQ,WAAa,IACxB/D,KAAKgB,MAELyB,OAAOoB,iBAAmBpB,OAAOoB,iBAAiB7D,KAAKgB,IAAK,MAAgBhB,KAAK1B,SAASwF,cAE9F9D,KAAKf,QAAU+E,OAAOJ,EAAOK,QAAQ,eAAgB,IAAIC,MAAM,KAAK,IACpElE,KAAKmC,UAAUnC,KAAK1B,WAEnB0B,KAAKjB,iBAWNoF,aAAanE,KAAKS,iBAClBT,KAAKI,KAAOJ,KAAKC,OAASoC,EAAE+B,QAAQ,GAAGC,QAXnCrE,KAAKlB,gBACLkB,KAAKgB,IAAIQ,MAAT,mBAAuC,MACvCiB,OAAOoB,iBAAmBpB,OAAOoB,iBAAiB7D,KAAKgB,IAAK,MAAgBhB,KAAK1B,SAASwF,aAC1F9D,KAAKgB,IAAIQ,MAAM8C,QAAUtE,KAAKU,WAC9BV,KAAKgB,IAAIQ,MAAMC,QAAU,SAE7BzB,KAAKE,WAAY,IAAIqE,MAAOC,UAC5BxE,KAAKI,KAAOJ,KAAKC,OAASoC,EAAE+B,QAAQ,GAAGC,MACvCF,aAAanE,KAAKQ,mBAKQ,GAA1BR,KAAK7B,QAAQyE,YACb5C,KAAKW,YAAa,GAEtBX,KAAKiB,QAAQjB,KAAKf,uCAGhBoD,GACFrC,KAAKK,KAAOgC,EAAE+B,QAAQ,GAAGC,MAAQrE,KAAKI,KACtCJ,KAAKI,KAAOiC,EAAE+B,QAAQ,GAAGC,MACzB,IAAII,GAAU,IAAIF,MAAOC,UACrBtF,GAAU,EAEVuF,EAAUzE,KAAKE,UAAY,MAC3BF,KAAKE,UAAYuE,EACjBzE,KAAKC,OAASoC,EAAE+B,QAAQ,GAAGC,OAG3BrE,KAAKK,KAAO,IAAMoE,EAAUzE,KAAKE,UAAY,MAE5CF,KAAKjB,iBA+BNiB,KAAKK,KAAO,IAAML,KAAKW,YAAa,GAChC+B,KAAKC,IAAI3C,KAAK7B,QAAQyE,UAAYF,KAAKC,IAAI3C,KAAK7B,QAAQuD,aAAe1B,KAAK7B,QAAQyD,eAAiB,GAAK5B,KAAKf,QAAUe,KAAKK,KAAOL,KAAKiC,YAC1II,EAAEqC,iBACFrC,EAAEsC,kBACF3E,KAAKO,aAAc,EACnBP,KAAKM,UAAW,EAChBN,KAAKK,MAAQ,IACbL,KAAKf,SAAWe,KAAKK,KACrBL,KAAKmC,UAAUnC,KAAK1B,UACpBY,EAASP,EAAOiG,YACX5E,KAAKqB,QAAUrB,KAAKf,QAAgC,IAArBe,KAAKuB,gBAAsBvB,KAAKiC,aAAejC,KAAKoB,WACnFlC,EAASP,EAAOU,YAEY,GAA1BW,KAAK7B,QAAQyE,WAAkB5C,KAAKf,QAAUe,KAAKK,KAAOL,KAAKiC,aAAejC,KAAKf,QAAUe,KAAKiC,aAAejC,KAAKW,aAC7H0B,EAAEqC,iBACFrC,EAAEsC,kBACF3E,KAAKM,UAAW,EAChBN,KAAKO,aAAc,EACnBP,KAAKK,MAAQ,IACbL,KAAKf,SAAWe,KAAKK,KACrBL,KAAKmC,UAAUnC,KAAK1B,UACpBY,EAASP,EAAOkG,QACZ7E,KAAKf,QAAUe,KAAKiC,WAAajC,KAAKsB,eACtCpC,EAASP,EAAOQ,eAEbuD,KAAKC,IAAI3C,KAAKf,QAAUe,KAAKiC,YAAc,IAClDI,EAAEqC,iBACFrC,EAAEsC,kBACF3E,KAAKM,UAAW,EAChBN,KAAKO,aAAc,EACnBP,KAAKf,QAAUe,KAAKK,KACpBL,KAAKmC,UAAUnC,KAAK1B,aA7DxB+D,EAAEqC,iBACFrC,EAAEsC,kBAEE3E,KAAKf,QAAUe,KAAKkC,YAAclC,KAAKkC,WAAa,GACpDlC,KAAKO,aAAc,EACnBP,KAAKM,UAAW,EAChBN,KAAKK,MAAQ,IACbL,KAAKf,SAAWe,KAAKK,KACrBL,KAAKmC,UAAUnC,KAAK1B,UACpBY,EAASP,EAAOiG,YACX5E,KAAKqB,QAAUrB,KAAKf,QAAUe,KAAKkC,WAAkC,GAArBlC,KAAKuB,kBAAwBvB,KAAKoB,WACnFlC,EAASP,EAAOU,YAEbW,KAAKf,QAAUe,KAAKiC,YAC3BjC,KAAKM,UAAW,EAChBN,KAAKO,aAAc,EACnBP,KAAKK,MAAQ,IACbL,KAAKf,SAAWe,KAAKK,KACrBL,KAAKmC,UAAUnC,KAAK1B,UACpBY,EAASP,EAAOkG,QACZ7E,KAAKf,SAAWe,KAAKiC,WAAajC,KAAKsB,eACvCpC,EAASP,EAAOQ,gBAGpBa,KAAKM,UAAW,EAChBN,KAAKO,aAAc,EACnBP,KAAKf,SAAWe,KAAKK,KACrBL,KAAKmC,UAAUnC,KAAK1B,YAsC5B0B,KAAKhB,OAAOgB,KAAKf,QAASC,iCAGzBmD,GACD,IAAIvB,EAAOd,KACP8E,EAAa9E,KAAKf,QACtBe,KAAKG,SAAU,IAAIoE,MAAOC,UAC1B,IAAIhB,EAAWxD,KAAKG,QAAUH,KAAKE,UACnC,GAAKF,KAAKjB,gBA0CFiB,KAAKO,aACLP,KAAKf,QAAUe,KAAKiC,YAEfjC,KAAKqB,QAAUyD,EAAmC,IAArB9E,KAAKuB,gBAAsBvB,KAAKiC,aAAejC,KAAKoB,UAClFpB,KAAKT,SAETiE,EAAWd,KAAKC,IAAImC,EAAa9E,KAAKiC,YAAcjC,KAAK7B,QAAQuD,aAAe,KAChF1B,KAAKmC,UAAUnC,KAAK1B,SAAUkF,IACvBxD,KAAKM,SACRwE,EAAa9E,KAAKiC,WAAajC,KAAKsB,cACpCtB,KAAKf,QAAUe,KAAKiC,WAAajC,KAAKsB,aACtCtB,KAAKmC,UAAUnC,KAAK1B,SAAU,KAC9B0B,KAAKV,cAELU,KAAKf,QAAUe,KAAKiC,WACpBuB,EAAWd,KAAKC,IAAImC,EAAa9E,KAAKf,SAAWe,KAAK7B,QAAQuD,aAAe,KAC7E1B,KAAKmC,UAAUnC,KAAK1B,SAAUkF,KAIlCxD,KAAKf,QAAUe,KAAKiC,WACpBjC,KAAKmC,UAAUnC,KAAK1B,SAAU,QA/DX,CACvB,GAAI0B,KAAKO,YACLP,KAAKf,QAAUe,KAAKkC,YAEflC,KAAKqB,QAAUyD,EAAa9E,KAAKkC,WAAkC,GAArBlC,KAAKuB,kBAAwBvB,KAAKoB,UACjFpB,KAAKT,SAETiE,EAAWd,KAAKC,IAAImC,EAAa9E,KAAKf,SAAWe,KAAK7B,QAAQuD,aAAe,KAC7E1B,KAAKmC,UAAUnC,KAAK1B,SAAUkF,GAC9BxD,KAAKkB,gBACF,GAAIlB,KAAKM,SACRwE,GAAc9E,KAAKiC,WAAajC,KAAKsB,cACrCtB,KAAKf,QAAUe,KAAKiC,WAAajC,KAAKsB,aACtCtB,KAAKmC,UAAUnC,KAAK1B,SAAU,KAC9B0B,KAAKV,cAELU,KAAKf,QAAUe,KAAKiC,WACpBuB,EAAWd,KAAKC,IAAImC,EAAa9E,KAAKf,SAAWe,KAAK7B,QAAQuD,aAAe,KAC7E1B,KAAKmC,UAAUnC,KAAK1B,SAAUkF,QAE/B,CACH,IAAIuB,EAAM/E,KAAKgF,UAAUhF,KAAKI,KAAMJ,KAAKC,OAAQuD,GACjDxD,KAAKf,QAAU8F,EAAIzB,YACnBE,EAAWuB,EAAIvB,SACfxD,KAAKmC,UAAUnC,KAAK1B,SAAUkF,GAG9BxD,KAAKoB,WAAapB,KAAKqB,QACnBrB,KAAKf,SAAWe,KAAKkC,YAAclC,KAAKkC,WAAa,GACrDlC,KAAKT,SAGb4E,aAAanE,KAAKQ,kBAElBR,KAAKQ,iBAAmBhB,WAAW,WAC3BsB,EAAKhC,eAA2C,QAA1BgC,EAAKE,IAAIQ,MAAMC,UACrCX,EAAKE,IAAIQ,MAAT,mBAAuC,SACvCiB,OAAOoB,iBAAmBpB,OAAOoB,iBAAiB/C,EAAKE,IAAK,MAAgBF,EAAKxC,SAASwF,aAC1FhD,EAAKE,IAAIQ,MAAM8C,QAAU,MAE9Bd,EAAW,KA0BlBxD,KAAKmB,MAAMnB,KAAKf,oDAIhB,GAAIe,KAAKkC,YAAc,EACnB,OAAO,EACX,IAAIV,EACA/B,EAAMrB,SAASsB,cAAc,OAMjC,OALAD,EAAIwF,aAAa,QAAS,0CAA4CjF,KAAK2B,UAAY,MACvFlC,EAAIwF,aAAa,QAASjF,KAAKnB,aAAemB,KAAKnB,aAAe,IAClEmB,KAAK7B,QAAQyB,YAAYH,GACzB+B,EAAQiB,OAAOoB,iBAAmBpB,OAAOoB,iBAAiBpE,EAAK,MAAgBO,KAAK1B,SAASwF,aAC7F9D,KAAKU,WAAac,EAAM8C,QACjB7E,qCAGAyF,EAAKC,EAAYC,GACpB3C,OAAO4C,YACPH,EAAIG,YAAY,KAAOF,EAAYC,GAEnCF,EAAII,iBAAiBH,EAAYC,GAAM,GAE3CpF,KAAKY,YAAYZ,KAAKY,YAAY2E,SAC9BL,IAAKA,EACLE,KAAMA,EACNI,MAAOL,wCAGFD,EAAKC,EAAYC,GACtB3C,OAAO4C,YACPH,EAAIO,YAAY,KAAON,EAAYC,GAEnCF,EAAIQ,oBAAoBP,EAAYC,GAAM,6CAI9C,IAAK,IAAIxI,EAAI,EAAGA,EAAIoD,KAAKY,YAAY2E,OAAQ3I,IAAK,CAC9C,IAAI+I,EAAW3F,KAAKY,YAAYhE,GAChCoD,KAAK4F,aAAaD,EAAST,IAAKS,EAASH,MAAOG,EAASP,gBAIrEzG,EAAOkG,QAAU,EACjBlG,EAAOiG,WAAa,EACpBjG,EAAOQ,aAAe,EACtBR,EAAOU,UAAY,YAEJV","file":"demo.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59fb1e6bf4679302a059","import Scroll from '../scroll';\r\n\r\n\r\nvar wrapper = document.querySelector('#wrapper');\r\nvar scroller = document.querySelector('#scroller');\r\nvar topTip = document.querySelector('.top_tip');\r\nvar bottomTip = document.querySelector('.bottom_tip');\r\n\r\nrefresh();\r\n\r\nvar scroll = new Scroll({\r\n    wrapper: wrapper,\r\n    scroller: scroller,\r\n    topTip: topTip,\r\n    bottomTip: bottomTip,\r\n    enableBar: true,\r\n    barClassName: 'bar',\r\n    enableFadeout: true,\r\n    useNativeScroll: true,\r\n    onMove: onMove,\r\n    onRefresh: refresh,\r\n    onLoad: onLoad\r\n})\r\n\r\nfunction refresh() {\r\n\ttopTip.innerHTML = '刷新中...';\r\n    setTimeout(function() {\r\n\t    var html = '';\r\n\t    for (var i = 0; i < 15; i++) {\r\n\t        html += '<div class=\"item\"><img src=\"./img/head.jpg\"><p><span class=\"title\">无极剑圣▪易大师</span><br><span class=\"desc\">易大师每攻击数次，就会同时对目标进行2次打击</span></p></div>'\r\n\t    }\r\n\t    document.querySelector('.content').innerHTML = html;\r\n        scroll && scroll.refresh();\r\n    }, 1000);\r\n}\r\n\r\nfunction onLoad() {\r\n\tbottomTip.innerHTML = '加载中...';\r\n    setTimeout(function(){\r\n\t    for (var i = 0; i < 5; i++) {\r\n\t        var div = document.createElement('div');\r\n\t        div.innerHTML = '<img src=\"./img/head.jpg\"><p><span class=\"title\">无极剑圣▪易大师</span><br><span class=\"desc\">易大师每攻击数次，就会同时对目标进行2次打击</span></p>';\r\n\t        div.className = 'item';\r\n\t        document.querySelector('.content').appendChild(div);\r\n\t    }\r\n\t    scroll && scroll.refresh();\r\n    },1000);\r\n}\r\n\r\n/**\r\n * 滑动动时触发\r\n * @param  {Number} offsetY scroller相对wrapper的偏移量\r\n */\r\nfunction onMove(offsetY, status) {\r\n    if(status == Scroll.REFRESH_ABLE){\r\n        topTip.innerHTML = '松开刷新...';\r\n    }else{\r\n        topTip.innerHTML = '下拉刷新...';\r\n    }\r\n    if(status == Scroll.LOAD_ABLE){\r\n    \tbottomTip.innerHTML = '松开加载...';\r\n    }else{\r\n    \tbottomTip.innerHTML = '上拉加载...';\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/example/demo.js","/**\r\n * @Author   Lisong\r\n * @DateTime 2017-08-29\r\n */\r\n\r\nclass Scroll {\r\n    /* opt {\r\n     * wrapper:外部容器DOM,\r\n     * scroller:内容容器DOM,\r\n     * topTip:顶部刷新提示DOM,\r\n     * bottomTip:底部加载提示DOM,\r\n     * onLoad:加载回调,\r\n     * onRefresh:刷新回调,\r\n     * onStart:开始触摸回调,\r\n     * onMove:移动回调,\r\n     * onEnd: 触摸结束,\r\n     * onBottom:滚动到底部回调,\r\n     * barClassName:滚动条样式类,\r\n     * enableBar:是否使用自定义滚动条(仅当useNativeScroll为false时才有意义),\r\n     * enableFadeout:是否允许自定义滚动条渐隐(仅当enableBar为true时才有意义),\r\n     * useNativeScroll:是否使用浏览器自带滚动,\r\n     * autoLoad: 到底部时候是否自动加载\r\n     * }\r\n     */\r\n    constructor(opt) {\r\n        this.startY; //开始的Y坐标\r\n        this.startTime; //触摸开始的时间戳\r\n        this.endTime; //触摸结束的时间戳\r\n        this.preY = 0; //上一次touchmove的Y坐标偏移量\r\n        this.disY; //两次touchmove的间隔Y坐标偏移量\r\n        this.isOutTop = false; //下拉是否超过顶部\r\n        this.isOutBottom = false; //上拉是否超过底部\r\n        this.barFadeTimeoutId = null; //滚动条消失计时器\r\n        this.baunceTimeoutId = null; //回弹计时器\r\n        this.barOpacity = 1; //滚动条初始透明度\r\n        /*滑动过程中是否有向上滑动，某些浏览器默认自带下拉回弹效果，\r\n        如果scroll有向上滑动过，再向下滑动时将无法阻止浏览器默认下拉，\r\n        而浏览器默认下拉将停止触发触摸事件，将引起刷新icon不能回弹的bug\r\n        */\r\n        this.hasSlideUp = false;\r\n        this.allListener = [];\r\n        this._init(opt);\r\n    }\r\n    //初始化\r\n    _init(opt) {\r\n        var self = this;\r\n        var emptyCb = function() {};\r\n        //滚动区域\r\n        this.wrapper = opt.wrapper;\r\n        //滚动的内容\r\n        this.scroller = opt.scroller;\r\n        this.bar = null;\r\n        this.barClassName = opt.barClassName;\r\n        this.enableFadeout = opt.enableFadeout;\r\n        this.useNativeScroll = opt.useNativeScroll;\r\n        this.enableBar = opt.enableBar;\r\n        this.onStart = opt.onStart || emptyCb;\r\n        this.onMove = opt.onMove || emptyCb;\r\n        this.onBottom = opt.onBottom || emptyCb;\r\n        this.onEnd = opt.onEnd || emptyCb;\r\n        this.onLoad = opt.onLoad || emptyCb;\r\n        this.onRefresh = opt.onRefresh || emptyCb;\r\n        this.autoLoad = opt.autoLoad;\r\n        this.topTip = opt.topTip;\r\n        this.bottomTip = opt.bottomTip;\r\n        this.nomore = false;\r\n        this.topTipHeight = 0;\r\n        this.bottomTipHeight = 0;\r\n        if (this.topTip) {\r\n            this.topTip.style.display = 'block';\r\n            this.topTipHeight = this.topTip.clientHeight;\r\n        }\r\n        if (this.bottomTip) {\r\n            this.bottomTip.style.display = 'block';\r\n            this.bottomTipHeight = this.bottomTip.clientHeight;\r\n        }\r\n        this.barHeight = this.wrapper.clientHeight * (this.wrapper.clientHeight / this.wrapper.scrollHeight);\r\n        this.enableBar && (this.bar = this._createScrollBar()) && (this.bar.style.display = 'none');\r\n        if (this.useNativeScroll) {\r\n            this.wrapper.style.overflow = 'auto';\r\n            this.scroller.style.marginBottom = '-' + this.topTipHeight + 'px';\r\n        } else {\r\n            this.barHeight = this.wrapper.clientHeight * (this.wrapper.clientHeight / this.wrapper.scrollHeight);\r\n            this.enableBar && (this.bar = this._createScrollBar()) && (this.bar.style.display = 'none');\r\n            this.scroller.style.overflow = 'visible';\r\n            this.wrapper.style.overflow = 'hidden';\r\n            this.wrapper.style.position = 'relative';\r\n        }\r\n        //最小偏移量\r\n        this.minOffsetY = -this.topTipHeight;\r\n        //设置最大偏移量\r\n        this.maxOffsetY = this.wrapper.clientHeight - this.scroller.clientHeight;\r\n        //当前的偏移量\r\n        this.offsetY = this.minOffsetY;\r\n        //初始化位置\r\n        this._tranlate(this.scroller);\r\n        this._bindEvent(this.wrapper, 'touchstart', function(e) {\r\n            self._start(e);\r\n        });\r\n        this._bindEvent(this.wrapper, 'touchmove', function(e) {\r\n            self._move(e);\r\n        });\r\n        this._bindEvent(this.wrapper, 'touchend', function(e) {\r\n            self._end(e);\r\n        });\r\n        this._bindEvent(window, 'resize', function(e) {\r\n            self.refresh();\r\n        });\r\n        this._bindEvent(this.wrapper, 'scroll', function(e) {\r\n            //自动加载\r\n            if (self.useNativeScroll) {\r\n                if (Math.abs(self.wrapper.scrollTop - Math.abs(self.wrapper.clientHeight - self.wrapper.scrollHeight)) <= self.bottomTipHeight) {\r\n                    self.onBottom();\r\n                    if (self.autoLoad && !self.nomore) {\r\n                        self.onLoad();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    //刷新容器\r\n    refresh() {\r\n        var self = this;\r\n        if (!this.useNativeScroll) {\r\n            if (this.offsetY >= this.minOffsetY) {\r\n                this.offsetY = this.minOffsetY;\r\n            } else if (this.offsetY <= this.maxOffsetY) {\r\n                this.offsetY = this.maxOffsetY;\r\n            }\r\n            //设置最大偏移量\r\n            this.maxOffsetY = this.wrapper.clientHeight - this.scroller.clientHeight;\r\n            if (this.bar) {\r\n                this.barHeight = this.wrapper.clientHeight * (this.wrapper.clientHeight / (this.wrapper.scrollHeight + this.bottomTipHeight));\r\n                this.bar.style.height = this.barHeight + 'px';\r\n            }\r\n        } else {\r\n            this.offsetY = this.minOffsetY;\r\n        }\r\n        this._tranlate(self.scroller, 500);\r\n    }\r\n    //设置偏移量\r\n    setOffsetY(offsetY) {\r\n        this.offsetY = offsetY;\r\n    }\r\n    scrollTop(offsetY) {\r\n        if (!this.useNativeScroll) {\r\n            //设置偏移量\r\n            this.offsetY = offsetY;\r\n            this._tranlate(this.scroller, 300);\r\n        }\r\n    }\r\n    //加载是否完成\r\n    setNomore(nomore) {\r\n        this.nomore = nomore;\r\n    }\r\n    //销毁\r\n    destroy() {\r\n        this._removeAllEvent();\r\n    }\r\n    /**\r\n     * [_tranlate 移动函数]\r\n     * @param  {DOM} target [目标对象]\r\n     * @param  {Number} transitionDuration [过渡时间，为0时不会触发transitionend事件]\r\n     */\r\n    _tranlate(target, transitionDuration, _offsetY) {\r\n        var offsetY = _offsetY != undefined ? _offsetY : this.offsetY;\r\n        if (!transitionDuration)\r\n            transitionDuration = 0;\r\n        if (transitionDuration) {\r\n            target.style['transitionProperty'] = 'transform';\r\n        } else {\r\n            target.style['transitionProperty'] = 'none';\r\n        }\r\n        target.style['transformOrigin'] = '0px 0px 0px';\r\n        target.style['transitionTimingFunction'] = 'cubic-bezier(0.33, 0.66, 0.66, 1)';\r\n        target.style['transitionDuration'] = transitionDuration + 'ms';\r\n        //translateZ(0)用来启动硬件加速\r\n        target.style['transform'] = 'translateY(' + offsetY + 'px) translateZ(0)';\r\n\r\n        if (this.bar && target == this.scroller) {\r\n            var offsetY = 0;\r\n            if (this.offsetY < this.minOffsetY && this.offsetY > this.maxOffsetY) {\r\n                offsetY = (this.offsetY - this.minOffsetY) / this.maxOffsetY * (this.wrapper.clientHeight - this.barHeight);\r\n            } else if (this.offsetY <= this.maxOffsetY) {\r\n                offsetY = this.wrapper.clientHeight - this.barHeight;\r\n            }\r\n\r\n            this.bar.style['transformOrigin'] = '0px 0px 0px';\r\n            this.bar.style['transitionTimingFunction'] = 'cubic-bezier(0.33, 0.66, 0.66, 1)';\r\n            this.bar.style['transitionDuration'] = transitionDuration + 'ms';\r\n            this.bar.style['transform'] = 'translateY(' + offsetY + 'px) translateZ(0)';\r\n        }\r\n    }\r\n    /**\r\n     * [_momentum 计算惯性滚动的终点偏移量和惯性滚动的时长]\r\n     * @param  {Number} currentY     [当前的Y坐标]\r\n     * @param  {Number} startY       [触摸开始的Y坐标]\r\n     * @param  {Number} time         [触摸时长]\r\n     * @param  {Number} deceleration [加速度]\r\n     * @return {Object}              [{destOffsetY:终点偏移量，duration:滚动时长}]\r\n     */\r\n    _momentum(currentY, startY, time, deceleration) {\r\n        var distance = currentY - startY,\r\n            speed = Math.abs(distance) / time,\r\n            destOffsetY,\r\n            inertia,\r\n            duration;\r\n\r\n        deceleration = deceleration ? deceleration : 0.0006;\r\n        //物理公式计算惯性滚动距离\r\n        inertia = (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\r\n        //惯性滚动终点偏移量\r\n        destOffsetY = this.offsetY + inertia;\r\n        //惯性滚动时长，速度/加速度\r\n        duration = speed / deceleration;\r\n        //如果惯性终点偏移量会超过顶部或者底部，需要减少时长，以免超出\r\n        if (destOffsetY < this.maxOffsetY && this.maxOffsetY < this.minOffsetY) {\r\n            destOffsetY = this.maxOffsetY;\r\n            distance = Math.abs(this.offsetY - destOffsetY);\r\n            duration = distance / speed;\r\n        } else if (destOffsetY > this.minOffsetY) {\r\n            destOffsetY = this.minOffsetY;\r\n            distance = Math.abs(this.offsetY - destOffsetY);\r\n            duration = distance / speed;\r\n        } else if (this.maxOffsetY > this.minOffsetY && destOffsetY < this.minOffsetY) { //如果容器大于内容的高度\r\n            destOffsetY = this.minOffsetY;\r\n        }\r\n\r\n        return {\r\n            destOffsetY: Math.round(destOffsetY),\r\n            duration: duration\r\n        }\r\n    }\r\n    //触摸开始\r\n    _start(e) {\r\n        //获取transition过渡未结束的transform值\r\n        var style = window.getComputedStyle ? window.getComputedStyle(this.scroller, null) : null || this.scroller.currentStyle;\r\n        var matrix = style['transform'];\r\n        if (matrix.indexOf('matrix') > -1) {\r\n            if (this.bar) {\r\n                //强制刷新\r\n                window.getComputedStyle ? window.getComputedStyle(this.bar, null) : null || this.scroller.currentStyle;\r\n            }\r\n            this.offsetY = Number(matrix.replace(/matrix\\(|\\)/g, '').split(',')[5]);\r\n            this._tranlate(this.scroller);\r\n        }\r\n        if (!this.useNativeScroll) {\r\n            if (this.enableFadeout) {\r\n                this.bar.style['transitionDuration'] = '0ms';\r\n                window.getComputedStyle ? window.getComputedStyle(this.bar, null) : null || this.scroller.currentStyle;\r\n                this.bar.style.opacity = this.barOpacity;\r\n                this.bar.style.display = 'block';\r\n            }\r\n            this.startTime = new Date().getTime();\r\n            this.preY = this.startY = e.touches[0].pageY;\r\n            clearTimeout(this.barFadeTimeoutId);\r\n        } else {\r\n            clearTimeout(this.baunceTimeoutId);\r\n            this.preY = this.startY = e.touches[0].pageY;\r\n        }\r\n        if (this.wrapper.scrollTop == 0) {\r\n            this.hasSlideUp = false;\r\n        }\r\n        this.onStart(this.offsetY);\r\n    }\r\n    //触摸移动\r\n    _move(e) {\r\n        this.disY = e.touches[0].pageY - this.preY;\r\n        this.preY = e.touches[0].pageY;\r\n        var nowTime = new Date().getTime(),\r\n            status = -1;\r\n        //超过300ms，重置startTime，用于回弹和惯性滚动计算开始时间\r\n        if (nowTime - this.startTime > 300) {\r\n            this.startTime = nowTime;\r\n            this.startY = e.touches[0].pageY;\r\n        }\r\n        //300ms以上的时间只滑动了10像素，则不移动\r\n        if (this.disY < 10 && nowTime - this.startTime > 300)\r\n            return;\r\n        if (!this.useNativeScroll) { //自定义滚动\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            //上拉或者下拉超出后,降低两次touchmove之间Y的偏移量\r\n            if (this.offsetY < this.maxOffsetY && this.maxOffsetY < 0) {\r\n                this.isOutBottom = true;\r\n                this.isOutTop = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_BOTTOM;\r\n                if (!this.nomore && this.offsetY < this.maxOffsetY - this.bottomTipHeight*0.5 && !this.autoLoad) {\r\n                    status = Scroll.LOAD_ABLE;\r\n                }\r\n            } else if (this.offsetY > this.minOffsetY) {\r\n                this.isOutTop = true;\r\n                this.isOutBottom = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_TOP;\r\n                if (this.offsetY >= this.minOffsetY + this.topTipHeight) {\r\n                    status = Scroll.REFRESH_ABLE;\r\n                }\r\n            } else {\r\n                this.isOutTop = false;\r\n                this.isOutBottom = false;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n            }\r\n        } else { //浏览器自带滚动\r\n            this.disY < 0 && (this.hasSlideUp = true);\r\n            if (Math.abs(this.wrapper.scrollTop - Math.abs(this.wrapper.clientHeight - this.wrapper.scrollHeight)) < 2 && this.offsetY + this.disY < this.minOffsetY) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.isOutBottom = true;\r\n                this.isOutTop = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_BOTTOM;\r\n                if (!this.nomore && this.offsetY < -this.bottomTipHeight*0.5 + this.minOffsetY && !this.autoLoad) {\r\n                     status = Scroll.LOAD_ABLE;\r\n                }\r\n            } else if (this.wrapper.scrollTop == 0 && this.offsetY + this.disY > this.minOffsetY && (this.offsetY > this.minOffsetY || !this.hasSlideUp)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.isOutTop = true;\r\n                this.isOutBottom = false;\r\n                this.disY *= 0.25;\r\n                this.offsetY += this.disY;\r\n                this._tranlate(this.scroller);\r\n                status = Scroll.OUT_TOP;\r\n                if (this.offsetY > this.minOffsetY + this.topTipHeight) {\r\n                    status = Scroll.REFRESH_ABLE;\r\n                }\r\n            } else if (Math.abs(this.offsetY - this.minOffsetY) > 5) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.isOutTop = false;\r\n                this.isOutBottom = false;\r\n                this.offsetY = this.disY;\r\n                this._tranlate(this.scroller);\r\n            }\r\n        }\r\n\r\n        this.onMove(this.offsetY, status);\r\n    }\r\n    //触摸结束\r\n    _end(e) {\r\n        var self = this;\r\n        var preOffsetY = this.offsetY;\r\n        this.endTime = new Date().getTime();\r\n        var duration = this.endTime - this.startTime;\r\n        if (!this.useNativeScroll) { //translate滚动结束\r\n            if (this.isOutBottom) {\r\n                this.offsetY = this.maxOffsetY;\r\n                //手动加载\r\n                if (!this.nomore && preOffsetY < this.maxOffsetY - this.bottomTipHeight*0.5 && !this.autoLoad) {\r\n                    this.onLoad();\r\n                }\r\n                duration = Math.abs(preOffsetY - this.offsetY) / this.wrapper.clientHeight * 1500;\r\n                this._tranlate(this.scroller, duration);\r\n                this.onBottom();\r\n            } else if (this.isOutTop) {\r\n                if (preOffsetY >= this.minOffsetY + this.topTipHeight) {\r\n                    this.offsetY = this.minOffsetY + this.topTipHeight;\r\n                    this._tranlate(this.scroller, 300);\r\n                    this.onRefresh();\r\n                } else {\r\n                    this.offsetY = this.minOffsetY;\r\n                    duration = Math.abs(preOffsetY - this.offsetY) / this.wrapper.clientHeight * 1500;\r\n                    this._tranlate(this.scroller, duration);\r\n                }\r\n            } else {\r\n                var obj = this._momentum(this.preY, this.startY, duration);\r\n                this.offsetY = obj.destOffsetY;\r\n                duration = obj.duration;\r\n                this._tranlate(this.scroller, duration);\r\n            }\r\n            //自动加载\r\n            if (this.autoLoad && !this.nomore) {\r\n                if (this.offsetY <= this.maxOffsetY && this.maxOffsetY < 0) {\r\n                    this.onLoad();\r\n                }\r\n            }\r\n            clearTimeout(this.barFadeTimeoutId);\r\n            //滚动条渐隐timer\r\n            this.barFadeTimeoutId = setTimeout(function() {\r\n                if (self.enableFadeout && self.bar.style.display != 'none') {\r\n                    self.bar.style['transitionDuration'] = '1000ms';\r\n                    window.getComputedStyle ? window.getComputedStyle(self.bar, null) : null || self.scroller.currentStyle;\r\n                    self.bar.style.opacity = '0';\r\n                }\r\n            }, duration + 500);\r\n        } else { //原生scroll滚动结束\r\n            if (this.isOutBottom) {\r\n                this.offsetY = this.minOffsetY;\r\n                //手动加载\r\n                if (!this.nomore && preOffsetY < -this.bottomTipHeight*0.5 + this.minOffsetY && !this.autoLoad) {\r\n                    this.onLoad();\r\n                }\r\n                duration = Math.abs(preOffsetY - this.minOffsetY) / this.wrapper.clientHeight * 1500;\r\n                this._tranlate(this.scroller, duration);\r\n            } else if (this.isOutTop) {\r\n                if (preOffsetY > this.minOffsetY + this.topTipHeight) {\r\n                    this.offsetY = this.minOffsetY + this.topTipHeight;\r\n                    this._tranlate(this.scroller, 300);\r\n                    this.onRefresh();\r\n                } else {\r\n                    this.offsetY = this.minOffsetY;\r\n                    duration = Math.abs(preOffsetY - this.offsetY) / this.wrapper.clientHeight * 1500;\r\n                    this._tranlate(this.scroller, duration);\r\n                }\r\n\r\n            } else {\r\n                this.offsetY = this.minOffsetY;\r\n                this._tranlate(this.scroller, 0);\r\n            }\r\n        }\r\n        this.onEnd(this.offsetY);\r\n    }\r\n    //创建滚动条\r\n    _createScrollBar() {\r\n        if (this.maxOffsetY >= 0)\r\n            return false;\r\n        var style = null;\r\n        var div = document.createElement('div');\r\n        div.setAttribute('style', 'position:absolute;top:0;right:0;height:' + this.barHeight + 'px');\r\n        div.setAttribute('class', this.barClassName ? this.barClassName : '');\r\n        this.wrapper.appendChild(div);\r\n        style = window.getComputedStyle ? window.getComputedStyle(div, null) : null || this.scroller.currentStyle;\r\n        this.barOpacity = style.opacity;\r\n        return div;\r\n    }\r\n    //事件绑定函数\r\n    _bindEvent(ele, event_name, func) {\r\n        if (window.attachEvent) {\r\n            ele.attachEvent('on' + event_name, func);\r\n        } else {\r\n            ele.addEventListener(event_name, func, false); //默认事件是冒泡\r\n        }\r\n        this.allListener[this.allListener.length] = {\r\n            ele: ele,\r\n            func: func,\r\n            event: event_name\r\n        }\r\n    }\r\n    _removeEvent(ele, event_name, func) {\r\n        if (window.attachEvent) {\r\n            ele.detachEvent('on' + event_name, func);\r\n        } else {\r\n            ele.removeEventListener(event_name, func, false);\r\n        }\r\n    }\r\n    _removeAllEvent() {\r\n        for (var i = 0; i < this.allListener.length; i++) {\r\n            var listener = this.allListener[i];\r\n            this._removeEvent(listener.ele, listener.event, listener.func);\r\n        }\r\n    }\r\n}\r\nScroll.OUT_TOP = 1;\r\nScroll.OUT_BOTTOM = 2;\r\nScroll.REFRESH_ABLE = 3;\r\nScroll.LOAD_ABLE = 4;\r\n\r\nexport default Scroll;\n\n\n// WEBPACK FOOTER //\n// ./src/scroll.js"],"sourceRoot":""}